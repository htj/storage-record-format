
\section{Record Properties}

This section describes the record properties and their fields and attributes.

%each field should have:
% name
% precise semantic description
% should be included or not
% alternative/previous/discussed names
% examples

% record metadata

\subsection{RecordIdentity}

This property describe the identity of the record. The field has to attributes:
recordId and createTime. The recordId attribute of the type string and should
be constructed in such a way that it is globally unique and records with the
same value is not generated accidently. Hence this field can be used to identiy
the record, and provide a basis for duplicate detection. The createTime
attribute is an ISO timestamp describing when the record was created.

The field is similar to the field with the same name in the Usage Record
standard.

\begin{itemize}
\item The RecordIdentity property MUST be present in the record.
\item The RecordIdentity field MUST NOT have any value.
\item The recordId attribute MUST be present in the record.
\item The recordID attribute MUST have the type string.
\item The createTime attribute MUST be present in the record.
\item The createTime attribute MUST be an ISO timestamp.
\end{itemize}

{\bf Example}
\begin{verbatim}
<ns:RecordIdentity
ns:createTime="2010-11-09T09:06:52Z"
ns:recordId="host.example.org/sr/87912469269276"/>
\end{verbatim}

% where block

\subsection{StorageSystem}

This property describes the storage system on which the resources has been
consumed. This value should be choosen in such a way that it globally
identifies the storage system, on which resource is being consumed. E.g., the
FQDN of the storage system could be used.

In grid lingo, this would be a storage element.

\begin{itemize}
\item The StorageSystem property SHOULD be present in the record.
\item The StorageSystem field MUST have the type string.
\item The StorageSystem value SHOULD be constructed in such a way, that it
    globally identifies the storage system.
\end{itemize}

{\bf Example}
\begin{verbatim}
<ns:StorageSystem>host.example.org</ns:StorageSystem>
\end{verbatim}


\subsection{StorageShare}

This property describes the part of of the storage system which is accounted
for in the record. For a storage system, which is split into several logical
parts, this can be used to account for consumption on each of these parts.
The value should be able to identity the share of the storage system, given
the storage system property.

This property has previously been named StoragePartition.

\begin{itemize}
\item The StorageShare field type MUST be a string.
\end{itemize}

{\bf Example}
\begin{verbatim}
<ns:StorageShare>pool-003</ns:StorageShare>
\end{verbatim}


\subsection{StorageType}

This property describes which type of storage is accounted for in the record,
e.g., ''disk'' or tape. This allows for explicit accounting for different types for
backend store.

\begin{itemize}
\item The StorageType field type MUST be a string.
\end{itemize}

{\bf Example}
\begin{verbatim}
<ns:StorageType>disk</ns:StorageType>
\end{verbatim}


% what block

\subsection{StorageClass}

This property describes the class of the stored data, e.g., "pinned",
"replicated", "precious". This is a descriptive value, which allows the storage
system to provide details about the stored data.

\begin{itemize}
\item The StorageClass field type MUST be a string.
\item The following values MUST be 
\end{itemize}

{\bf Example}
\begin{verbatim}
<ns:StorageClass>replicated</ns:StorageClass>
\end{verbatim}


\subsection{FileCount}

This property describes the number of files which are accounted for in the
record.

\begin{itemize}
\item The FileCount field type MUST be in integer.
\end{itemize}

{\bf Example}
\begin{verbatim}
<ns:FileCount>4</ns:Filecount>
\end{verbatim}



\subsection{DirectoryPath}

This property describe the directy path being accounted for (if available).

\begin{itemize}
\item The DirectoryPath field type MUST be a string.
\end{itemize}

{\bf Example}
\begin{verbatim}
<ns:DirectoryPath>/projectA</ns:DirectoryPath>
\end{verbatim}


% identity block

\subsection{LocalUserName}

\subsection{LocalUserGroup}

\subsection{UserIdentity}

\subsection{Group}

\subsection{GroupPartition}

\subsection{GroupRole}

\subsection{GroupAuthority}

\subsection{Group}

UserIdentity
LocalUserName,
LocalUserGroup





% consumption block

\subsection{MeasureTime}

A timestamp indicating when the measurement of the resource consumption was
made.

\begin{itemize}
\item The MeasureTime field type MUST be an ISO timestamp.
\end{itemize}


\subsection{ValidDuration}

A duration indicating for how long time the measurement is valid.

\begin{itemize}
\item The ValidDuration field type MUST be an ISO duration.
\end{itemize}


\subsection{SpaceAllocated}

An integer denoting the number of bytes used on the storage system. This is the
main metric for measuring resource consumption. It should include all resources
consumed, including reserved space.

\begin{itemize}
\item The SpaceAllocated property SHOULD be present in the record.
\item The SpaceAllocated field type MUST be an integer.
\end{itemize}

\subsubsection*{Implementation Note}

Using bytes saves us from the argument of discussing if 1000 or 1024 should be
used as a base. However, this also means that the number reported can be very
high. Therefore any implementation should use at least a 64-bit integer to hold
this variable. However it is highly recommend to use a datatype with no upper
limits (a signed 64-bit integer will overflow at 8 Terabyte).


\subsection{SpaceReserved}

An integer denoting the number of bytes reserved on the storage system, i.e.,
space which has been allocated, but which is not filled with actual data. This
amount should be included in the SpaceAllocated property, but this field can be
used to describe exactly how much of the allocated space is reserved.

\begin{itemize}
\item The SpaceReserved field type MUST be an integer.
\end{itemize}







\section{Intentionally Left Out Properties}

Note: These are still under discussion.

Site
FileNames
SpaceAvailable
Transfer information.
StartTime, EndTime (replaced with measurementtime+validduration)

VO information - Has been abstracted into the group properties.


